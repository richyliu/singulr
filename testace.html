<!DOCTYPE html>
<html>

<head>
    <title>ACE in Action</title>
    <style type="text/css" media="screen">
        #editor {
            position: absolute;
            top: 0;
            right: 0;
            bottom: 0;
            left: 0;
        }
    </style>
</head>

<body>

    <div id="editor">
        function foo(items) {
            var x = "All this is syntax highlighted";
            return x;
        }
    </div>

    <script src="ace.js"></script>
    <script>
        var editor = ace.edit("editor");
        editor.setTheme("ace/theme/monokai");
        editor.getSession().setMode("ace/mode/javascript");
        
        
        
        // var colemakMappings = {
        //     d: 's',
        //     e: 'f',
        //     f: 't',
        //     g: 'd',
        //     i: 'u',
        //     j: 'n',
        //     k: 'e',
        //     l: 'i',
        //     n: 'k',
        //     o: 'y',
        //     p: ';',
        //     r: 'p',
        //     s: 'r',
        //     t: 'g',
        //     u: 'l',
        //     y: 'j',
        //     ';': 'o'
        // };
        
        
        // window.ACEX = function(key) {
        //     // has to be ascii and not a control char
        //     if (key[0].charCodeAt(0) !== 1 && key[1].charCodeAt(0) < 32) return key;
            
        //     var outKey;
            
        //     for (var k in colemakMappings) {
        //         if (toAceChar(k) === key) outKey = toAceChar(colemakMappings[k]);
        //     }
        //     if (outKey === undefined) outKey = key;
            
        //     console.log(outKey);
        //     return outKey;
        // };
        
        
        // function toAceChar(char) {
        //     if (typeof char !== 'string' || char.length !== 1) return null;
        //     return String.fromCharCode(1) + char;
        // }
        
        
        
        // insert script:
        // data=window.ACEX(data);
        // workspace-php.js line 2436 column 49
        // ace_text-input
        
        var e={d:"s",e:"f",f:"t",g:"d",i:"u",j:"n",k:"e",l:"i",n:"k",o:"y",p:";",r:"p",s:"r",t:"g",u:"l",y:"j",";":"o"};window.ACEX=function(b){if(1!==b[0].charCodeAt(0)&&32>b[1].charCodeAt(0))return b;var c,d;for(d in e)f(d)===b&&(c=f(e[d]));void 0===c&&(c=b);console.log(c);return c};function f(b){return"string"!==typeof b||1!==b.length?null:String.fromCharCode(1)+b}
        
    </script>
</body>

</html>